import{_ as B}from"./AuthenticatedLayout-BPQhTrmB.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as u,f as g,b as e,t as N,g as C,d as f,F as x,z as E,A as D,T as I,e as S,a as l,u as p,w as _,n as H,k as w,m as T,Z as A,B as j}from"./app-p87SEIiI.js";import{_ as q,T as F,a as P}from"./TextInput-DHRmt4hi.js";import{P as G}from"./PrimaryButton-D61OwVFi.js";import{M as k,_ as O}from"./index-BXomOIxI.js";const m=a=>(E("data-v-32ce2fac"),a=a(),D(),a),U={class:"card max-w-sm px-3 py-6 bg-white border m-3 border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 text-center sm:block"},Z={class:"mb-2 font-bold tracking-tight text-gray-900 dark:text-white"},J={key:0,class:"flex flex-row flex-wrap justify-between"},K=["href"],Q=m(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[e("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),e("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1)),R=[Q],W=m(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-copy",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"})],-1)),X=[W],Y=m(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[e("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),e("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"})],-1)),ee=[Y],te={key:1,class:""},oe=m(()=>e("svg",{class:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})],-1)),ae=m(()=>e("div",{id:"tt-editar",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[f(" Editar CV "),e("div",{class:"tooltip-arrow","data-popper-arrow":""})],-1)),se=m(()=>e("div",{id:"tt-clonar",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[f(" Clonar CV "),e("div",{class:"tooltip-arrow","data-popper-arrow":""})],-1)),re=m(()=>e("div",{id:"tt-borrar",role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[f(" Borrar CV "),e("div",{class:"tooltip-arrow","data-popper-arrow":""})],-1)),le={__name:"CvCard",props:{id:String,title:String,color:String},emits:["new-cv","delete-cv","clone-cv"],setup(a,{emit:i}){const n=a,o=i,d=()=>{o("new-cv")},h=()=>{console.log("clining in card"),o("clone-cv",n.id)},v=()=>{o("delete-cv",n.id)};return(s,b)=>(u(),g(x,null,[e("div",U,[e("h5",Z,N(a.title),1),a.color==="blue"?(u(),g("div",J,[e("a",{href:"/editcv/"+a.id,"data-tooltip-target":"tt-editar","data-tooltip-placement":"bottom",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2.5 mx-1 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},R,8,K),e("button",{"data-tooltip-target":"tt-clonar","data-tooltip-placement":"bottom",onClick:h,class:"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-3 py-2.5 mx-1 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},X),e("button",{"data-tooltip-target":"tt-borrar","data-tooltip-placement":"bottom",onClick:v,class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2.5 mx-1 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},ee)])):C("",!0),a.color==="green"?(u(),g("div",te,[e("button",{id:"newCvButton",onClick:d,class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg inline-flex items-center px-5 py-2 me-2 mb-2 text-sm font-medium text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button"},[f(" Crear "),oe])])):C("",!0)]),ae,se,re],64))}},M=L(le,[["__scopeId","data-v-32ce2fac"]]),ne={id:"newCvModal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"},ie={class:"relative p-4 w-full max-w-md h-full md:h-auto"},de={class:"relative p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},ce=e("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ue=e("span",{class:"sr-only"},"Close modal",-1),ge=[ce,ue],me=e("p",{class:"mb-4 text-gray-500 dark:text-gray-300"},"Nuevo Currículum",-1),he={class:"my-2"},ve={class:"p-2 m-2"},pe={class:"flex justify-center items-center space-x-4"},fe={__name:"NewCvModal",emits:["cv-created","cancel-create"],setup(a,{emit:i}){const n=i,o=I({title:""}),d=()=>{let v={title:o.title};axios.post("savenewcv",v).then(function(s){console.log(s),o.title="",n("cv-created",s)}).catch(function(s){console.log(s)})},h=()=>{n("cancel-create")};return(v,s)=>(u(),g("div",ne,[e("div",ie,[e("div",de,[e("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"newCvModal",onClick:h},ge),me,e("form",{onSubmit:S(d,["prevent"])},[e("div",he,[e("div",ve,[l(q,{for:"title",value:"Título"}),l(F,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:p(o).title,"onUpdate:modelValue":s[0]||(s[0]=b=>p(o).title=b),required:"",autofocus:"",autocomplete:"title"},null,8,["modelValue"]),l(P,{class:"mt-2",message:p(o).errors.title},null,8,["message"])])]),e("div",pe,[e("button",{onClick:h,"data-modal-toggle":"newCvModal",type:"button",class:"py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," No, cancel "),l(G,{class:H(["ms-4",{"opacity-25":p(o).processing}]),disabled:p(o).processing},{default:_(()=>[f(" Guardar ")]),_:1},8,["class","disabled"])])],32)])])]))}},be=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Mis CVs",-1),we={class:"py-12"},xe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},_e={class:"flex flex-row flex-wrap bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},ze={__name:"MyCvs",props:{cvs:Array},setup(a){const i=w(null),n=w(null),o=w("");let d=a;const h=t=>{d.cvs.push(t.data),i.value.hide()},v=()=>{i.value.show()},s=()=>{i.value.hide()},b=t=>{o.value=t,n.value.show()},y=()=>{n.value.hide()},V=()=>{axios.post("mis-cvs/deletecv/"+o.value,{_method:"DELETE"}).then(t=>{console.log(t),z(t.data),y()}).catch(t=>{console.log(t)})},$=t=>{const c={cv_id:t};axios.post("clonecv/",c).then(r=>{console.log(r),d.cvs.push(r.data)}).catch(r=>{console.log(r)})},z=t=>{const c=d.cvs.findIndex(r=>r.id==t);c>-1&&d.cvs.splice(c,1)};return document.addEventListener("DOMContentLoaded",function(t){document.getElementById("newCvButton").click()}),T(()=>{const t=document.getElementById("newCvModal");i.value=new k(t);const c=document.getElementById("deleteModal");n.value=new k(c)}),(t,c)=>(u(),g(x,null,[l(p(A),{title:"Dashboard"}),l(B,null,{header:_(()=>[be]),default:_(()=>[e("div",we,[e("div",xe,[e("div",_e,[l(M,{title:"Nuevo Currículum",id:"0",color:"green",onNewCv:v}),(u(!0),g(x,null,j(a.cvs,r=>(u(),g("div",{key:r.id},[l(M,{title:r.title,id:r.id,color:"blue",onDeleteCv:b,onCloneCv:$},null,8,["title","id"])]))),128))])])])]),_:1}),l(fe,{onCvCreated:h,onCancelCreate:s}),l(O,{onConfirmDelete:V,onCancelModal:y})],64))}};export{ze as default};
