import{_ as N}from"./AuthenticatedLayout-CFZjA0O9.js";import{i as E,M as C,_ as D}from"./index-CqKF1TQo.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as V,o as u,f as m,b as t,t as S,g as k,d as b,F as x,z as H,A as T,T as A,e as j,a as n,u as p,w as _,n as q,k as w,Z as F,B as P}from"./app-D0H97h00.js";import{_ as G,T as O,a as U}from"./TextInput-Wr4cFTDo.js";import{P as Z}from"./PrimaryButton-Bik2iBCe.js";const g=e=>(H("data-v-15791549"),e=e(),T(),e),J={class:"card max-w-sm px-3 py-6 bg-white border m-3 border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 text-center sm:block"},K={class:"mb-2 font-bold tracking-tight text-gray-900 dark:text-white"},Q={key:0,class:"flex flex-row flex-wrap justify-between"},R=["href","data-tooltip-target"],W=g(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-pencil-square",viewBox:"0 0 16 16"},[t("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),t("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"})],-1)),X=[W],Y=["data-tooltip-target"],tt=g(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-copy",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"})],-1)),et=[tt],ot=["data-tooltip-target"],at=g(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-trash",viewBox:"0 0 16 16"},[t("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),t("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"})],-1)),st=[at],lt={key:1,class:""},nt=g(()=>t("svg",{class:"rtl:rotate-180 w-3.5 h-3.5 ms-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})],-1)),rt=["id"],it=g(()=>t("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1)),dt=["id"],ct=g(()=>t("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1)),ut=["id"],mt=g(()=>t("div",{class:"tooltip-arrow","data-popper-arrow":""},null,-1)),gt={__name:"CvCard",props:{id:String,title:String,color:String,num:Number},emits:["new-cv","delete-cv","clone-cv"],setup(e,{emit:i}){const r=e,a=i,d=()=>{a("new-cv")},h=()=>{console.log("clining in card"),a("clone-cv",r.id)},v=()=>{a("delete-cv",r.id)};return V(()=>{E()}),(s,f)=>(u(),m(x,null,[t("div",J,[t("h5",K,S(e.title),1),e.color==="blue"?(u(),m("div",Q,[t("a",{href:"/editcv/"+e.id,"data-tooltip-target":"tt-editar-"+e.num,"data-tooltip-placement":"bottom",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-2.5 mx-1 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"},X,8,R),t("button",{"data-tooltip-target":"tt-clonar-"+e.num,"data-tooltip-placement":"bottom",onClick:h,class:"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-3 py-2.5 mx-1 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},et,8,Y),t("button",{"data-tooltip-target":"tt-borrar-"+e.num,"data-tooltip-placement":"bottom",onClick:v,class:"focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2.5 mx-1 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},st,8,ot)])):k("",!0),e.color==="green"?(u(),m("div",lt,[t("button",{id:"newCvButton",onClick:d,class:"focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg inline-flex items-center px-5 py-2 me-2 mb-2 text-sm font-medium text-center dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800",type:"button"},[b(" Crear "),nt])])):k("",!0)]),t("div",{id:"tt-editar-"+e.num,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[b(" Editar CV "),it],8,rt),t("div",{id:"tt-clonar-"+e.num,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[b(" Clonar CV "),ct],8,dt),t("div",{id:"tt-borrar-"+e.num,role:"tooltip",class:"absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-gray-900 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700"},[b(" Borrar CV "),mt],8,ut)],64))}},M=I(gt,[["__scopeId","data-v-15791549"]]),ht={id:"newCvModal",tabindex:"-1","aria-hidden":"true",class:"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full md:inset-0 h-modal md:h-full"},vt={class:"relative p-4 w-full max-w-md h-full md:h-auto"},pt={class:"relative p-4 text-center bg-white rounded-lg shadow dark:bg-gray-800 sm:p-5"},bt=t("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),ft=t("span",{class:"sr-only"},"Close modal",-1),wt=[bt,ft],xt=t("p",{class:"mb-4 text-gray-500 dark:text-gray-300"},"Nuevo Currículum",-1),_t={class:"my-2"},yt={class:"p-2 m-2"},Ct={class:"flex justify-center items-center space-x-4"},kt={__name:"NewCvModal",emits:["cv-created","cancel-create"],setup(e,{emit:i}){const r=i,a=A({title:""}),d=()=>{let v={title:a.title};axios.post("savenewcv",v).then(function(s){console.log(s),a.title="",r("cv-created",s)}).catch(function(s){console.log(s)})},h=()=>{r("cancel-create")};return(v,s)=>(u(),m("div",ht,[t("div",vt,[t("div",pt,[t("button",{type:"button",class:"text-gray-400 absolute top-2.5 right-2.5 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"newCvModal",onClick:h},wt),xt,t("form",{onSubmit:j(d,["prevent"])},[t("div",_t,[t("div",yt,[n(G,{for:"title",value:"Título"}),n(O,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:p(a).title,"onUpdate:modelValue":s[0]||(s[0]=f=>p(a).title=f),required:"",autofocus:"",autocomplete:"title"},null,8,["modelValue"]),n(U,{class:"mt-2",message:p(a).errors.title},null,8,["message"])])]),t("div",Ct,[t("button",{onClick:h,"data-modal-toggle":"newCvModal",type:"button",class:"py-2 px-3 text-sm font-medium text-gray-500 bg-white rounded-lg border border-gray-200 hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-primary-300 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600"}," No, cancel "),n(Z,{class:q(["ms-4",{"opacity-25":p(a).processing}]),disabled:p(a).processing},{default:_(()=>[b(" Guardar ")]),_:1},8,["class","disabled"])])],32)])])]))}},Mt=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Mis CVs",-1),Vt={class:"py-12"},$t={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},zt={class:"flex flex-row flex-wrap bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},St={__name:"MyCvs",props:{cvs:Array},setup(e){const i=w(null),r=w(null),a=w("");let d=e;const h=o=>{d.cvs.push(o.data),i.value.hide()},v=()=>{i.value.show()},s=()=>{i.value.hide()},f=o=>{a.value=o,r.value.show()},y=()=>{r.value.hide()},$=()=>{axios.post("mis-cvs/deletecv"+a.value,{_method:"DELETE"}).then(o=>{console.log(o),B(o.data),y()}).catch(o=>{console.log(o)})},z=o=>{const c={cv_id:o};axios.post("clonecv",c).then(l=>{console.log(l),d.cvs.push(l.data)}).catch(l=>{console.log(l)})},B=o=>{const c=d.cvs.findIndex(l=>l.id==o);c>-1&&d.cvs.splice(c,1)};return document.addEventListener("DOMContentLoaded",function(o){document.getElementById("newCvButton").click()}),V(()=>{const o=document.getElementById("newCvModal");i.value=new C(o);const c=document.getElementById("deleteModal");r.value=new C(c)}),(o,c)=>(u(),m(x,null,[n(p(F),{title:"Dashboard"}),n(N,null,{header:_(()=>[Mt]),default:_(()=>[t("div",Vt,[t("div",$t,[t("div",zt,[n(M,{title:"Nuevo Currículum",id:"0",color:"green",onNewCv:v}),(u(!0),m(x,null,P(e.cvs,(l,L)=>(u(),m("div",{key:l.id},[n(M,{title:l.title,id:l.id,num:L+1,color:"blue",onDeleteCv:f,onCloneCv:z},null,8,["title","id","num"])]))),128))])])])]),_:1}),n(kt,{onCvCreated:h,onCancelCreate:s}),n(D,{onConfirmDelete:$,onCancelModal:y})],64))}};export{St as default};
